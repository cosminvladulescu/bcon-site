# Decap CMS + DecapBridge (PKCE)
backend:
  name: git-gateway
  repo: cosminvladulescu/bcon-site
  branch: main
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/54f39bc6-4446-431b-9c16-08bdca16d4c7/pkce
  auth_token_endpoint: /sites/54f39bc6-4446-431b-9c16-08bdca16d4c7/token
  gateway_url: https://gateway.decapbridge.com

  commit_messages:
    create: Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# PKCE fields (recommended)
auth:
  email_claim: email
  first_name_claim: first_name
  last_name_claim: last_name
  avatar_url_claim: avatar_url

logo_url: https://decapbridge.com/decapcms-with-bridge.svg
site_url: https://b-con.ro

# REQUIRED: media + collections
media_folder: frontend/public/images/uploads
public_folder: /images/uploads

# REQUIRED by the schema you hit (safe default)
media_library:
  name: uploadcare

collections:
  - name: "homepage"
    label: "Homepage"
    files:
      - label: "Continut Homepage"
        name: "homepage"
        file: "frontend/src/content/homepage.json"
        fields:
          - label: "Hero"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titlu", name: "title", widget: "string" }
              - { label: "Subtitlu", name: "subtitle", widget: "text" }
              - { label: "Text buton principal", name: "ctaPrimary", widget: "string" }
              - { label: "Text buton secundar", name: "ctaSecondary", widget: "string" }

          - label: "Servicii"
            name: "services"
            widget: "list"
            fields:
              - { label: "Titlu", name: "title", widget: "string" }
              - { label: "Descriere", name: "description", widget: "text" }

          - label: "Beneficii"
            name: "benefits"
            widget: "list"
            fields:
              - { label: "Titlu", name: "title", widget: "string" }
              - { label: "Descriere", name: "description", widget: "text" }

  - name: "contact"
    label: "Date Contact"
    files:
      - label: "Informatii Contact"
        name: "contact"
        file: "frontend/src/content/contact.json"
        fields:
          - { label: "Telefon", name: "telefon", widget: "string" }
          - { label: "Email", name: "email", widget: "string" }
          - { label: "Adresa", name: "adresa", widget: "string" }